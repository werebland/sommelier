{"version":3,"file":"static/webpack/static/development/pages/restaurant.js.14248e01b5ed7d08f5e2.hot-update.js","sources":["webpack:///./components/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed, {PoseGroup} from 'react-pose'\nimport Fuse from 'fuse.js'\nimport DishCard from './DishCard'\n\nconst SearchWrapper = posed.div({\n  expanded: {\n    width: '100vw',\n    height: '100vh',\n    y: -36,\n  },\n  collapsed: {\n    width: ({ width }) => width,\n    height: '40px',\n    y: -20,\n  }\n})\n\nconst StyledSearchWrapper = styled(SearchWrapper)`\n  width: ${props => props.width};\n  height: 40px;\n  background: #FFFFFF;\n  box-shadow: 0 2px 16px -2px rgba(0,0,0,0.32);\n  border-radius: ${props => props.expanded ? '0' : '4px'};\n  margin-left: 16px;\n  position: ${props => props.expanded ? 'fixed' : 'sticky'};\n  transform: translateY(-20px);\n  top: 36px;\n  overflow: hidden;\n  box-sizing: border-box;\n  padding: ${props => props.expanded ? '16px' : 0};\n  z-index: 8;\n`;\n\nconst SearchInputWrapper = styled.div`\n  width: 100%;\n  height: 40px;\n  position: relative;\n  box-sizing: border-box;\n  padding: 0 0 0 40px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  height: 100%;\n  max-height: 40px;\n  border-radius: 0;\n  border: 0;\n  box-shadow: none;\n  appearance: none;\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 0 8px;\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #0f0f0f;\n  transition: 0.4s ease-out all;\n\n  &::placeholder {\n    font-size: 1rem;\n    font-weight: 400;\n    color: #9f9f9f;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst SearchIcon = styled.i`\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${props => props.expanded ? '#0f0f0f' : '#9f9f9f'};\n  transition: 0.4s ease-out all;\n  cursor: ${props => props.expanded ? 'pointer' : 'default'};\n`;\n\nconst SearchResults = styled.div`\n  width: 100vw;\n  height: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  overflow: scroll;\n  margin-left: 16px;\n  padding: 16px;\n  box-sizing: border-box;\n`;\n\nconst PosedDishCard = posed.article({\n  pressable: true,\n  enter: {\n    opacity: 1,\n  },\n  exit: {\n    opacity: 0,\n  },\n  init: {\n    scale: 1,\n    boxShadow: '0px 2px 16px -2px rgba(0,0,0,0.32)',\n  },\n  press: {\n    scale: 0.99,\n    boxShadow: '0px 2px 8px -2px rgba(0,0,0,0.32)',\n  },\n})\n\nconst StyledPosedDishCard = styled(PosedDishCard)`\n  margin-bottom: 16px;\n  scale: 1;\n  transform-origin: center !important;\n  border-radius: 4px;\n  background: transparent;\n`;\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      term: '',\n    }\n  }\n\n  handleExpand() {\n    this.setState({ expanded: true })\n    this.props.handleExpandSearch()\n  }\n\n  handleCollapse() {\n    this.setState({\n      expanded: false,\n      term: '',\n    })\n    this.props.handleCollapseSearch()\n  }\n\n  render() {\n\n    var options = {\n      shouldSort: true,\n      threshold: 0.4,\n      location: 0,\n      distance: 80,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: [\n        \"title\",\n        \"type\",\n        \"family\",\n    ]\n    };\n\n    var fuse = new Fuse(this.props.dishes, options); // \"list\" is the item array\n\n    var result = fuse.search(this.state.term);\n\n    return (\n      <StyledSearchWrapper\n        pose={this.state.expanded ? 'expanded' : 'collapsed'}\n        expanded={this.state.expanded}\n        width={this.props.width}>\n        <SearchInputWrapper expanded={this.state.expanded}>\n          <SearchIcon className=\"material-icons\" onClick={() => this.state.expanded === true && this.handleCollapse()} expanded={this.state.expanded}>\n            {this.state.expanded ? 'close' : 'search'}\n          </SearchIcon>\n          <SearchInput\n            type=\"search\"\n            onFocus={() => this.state.expanded === false && this.handleExpand()}\n            onChange={(e) => this.setState({ term: e.target.value })}\n            placeholder=\"Search Dishes\"/>\n        </SearchInputWrapper>\n        {this.state.expanded && this.state.term !== \"\" &&\n          <SearchResults>\n            <PoseGroup>\n              {result && result.map((dish) =>\n                <StyledPosedDishCard\n                  key={dish.id}\n                  onClick={() => this.props.handleDishCardClick(dish.id, result)}><DishCard dish={dish}/></StyledPosedDishCard>\n              )}\n            </PoseGroup>\n          </SearchResults>\n        }\n      </StyledSearchWrapper>\n    );\n  }\n\n}\n\nexport default Search;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAHA;AANA;AAaA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAAA;AAKA;AAAA;AAIA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AA8BA;AAAA;AAAA;AAAA;AAUA;AAAA;AAEA;AAAA;AAGA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAZA;AAkBA;AAAA;AAAA;AAAA;AACA;AAOA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAcA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAHA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AASA;AAEA;AACA;AAAA;AAAA;AAFA;AAEA;AAAA;AAHA;AAUA;;;;AAvEA;AACA;AA0EA;;;;A","sourceRoot":""}